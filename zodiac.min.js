/*!
 * Zodiac
 *
 * @author Stefan Keim (indus)
 * @version 0.1.1
 * @description canvas based particle background
 *
 * Inspired by https://github.com/jnicol/particleground
 */
"use static";var Zodiac=function(){function n(n,t){function v(n){o[0]=n.pageX-window.innerWidth/2;o[1]=n.pageY-window.innerHeight/2}function y(n){o[0]=Math.min(Math.max(-n.beta,-30),30)*(window.innerWidth/30);o[1]=Math.min(Math.max(-n.gamma,-30),30)*(window.innerHeight/30)}var c=this,n,s,h;if(t===void 0&&(t={}),this.options={directionX:-1,directionY:-1,velocityX:[.1,.2],velocityY:[.5,1],bounceX:!0,bounceY:!1,parallax:.2,density:6e3,dotRadius:[1,5],linkColor:"rgba(99,99,99,.8)",linkDistance:50,linkWidth:2},n=typeof n=="string"||n instanceof String?document.getElementById(n):n,n.tagName!="CANVAS")throw"no canvas";for(s in t)this.options[s]=t[s];t=this.options;var r=this._ctx=n.getContext("2d",{alpha:!t.backgroundColor}),o=[0,0],i,l,u,f,e,a=function(){var v,n,s,h,w,y,p;for(t.backgroundColor?(r.fillStyle=t.backgroundColor,r.fillRect(0,0,f,e),r.fillStyle=t.dotColor):r.clearRect(0,0,f,e),r.beginPath(),v=0;v<u.length;v++)for(n=u[v],n.x+=n.vx,n.y+=n.vy,t.parallax&&(w=n.z*l,n.dx+=(o[0]*w-n.dx)/10,n.dy+=(o[1]*w-n.dy)/10),s=n.x+n.dx,h=n.y+n.dy,(s<0||s>f)&&(t.bounceX?n.vx=-n.vx:n.x=(s+f)%f-n.dx),(h<0||h>e)&&(t.bounceY?n.vy=-n.vy:n.y=(h+e)%e-n.dy),y=i[1]?n.z:i,r.moveTo(s+y,h),r.arc(s,h,y,0,Math.PI*2),p=v-1;p>=0;p--){var c=u[p],d=c.x-n.x,g=c.y-n.y,ut=Math.sqrt(d*d+g*g);if(ut<t.linkDistance){var s=n.x+n.dx,h=n.y+n.dy,b=c.x+c.dx,k=c.y+c.dy,nt=Math.atan2(k-h,b-s),tt=i[1]?c.z:i,it=Math.cos(nt),rt=Math.sin(nt);s+=y*it;h+=y*rt;b-=tt*it;k-=tt*rt;r.moveTo(s,h);r.lineTo(b,k)}}r.stroke();t.dotColor&&r.fill();requestAnimationFrame(a)};h=this._refresh=function(){var s;u=c._=c._||[];i=[].concat(t.dotRadius);i[0]==i[1]&&(i=i[0]);l=t.parallax/(i[1]?Math.max(i[0],i[1])*i[0]:5);f=n.width=n.offsetWidth;e=n.height=n.offsetHeight;var h=t.velocityX,a=t.velocityY,o=Math.random,v=Math.ceil(f*e/t.density);for(s=u.length-1;s>=0;s--)(u[s].x>f||u[s].y>e)&&u.splice(s,1);for(v<u.length&&u.splice(v);v>u.length;)u.push({z:Math.ceil(i[1]?o()*(i[1]-i[0])+i[0]:o()*5),x:Math.ceil(o()*f),y:Math.ceil(o()*e),vx:(t.directionX||(o()>.5?1:-1))*(o()*(h[1]-h[0])+h[0]),vy:(t.directionY||(o()>.5?1:-1))*(o()*(a[1]-a[0])+a[0]),dx:0,dy:0});r.strokeStyle=t.linkColor;r.lineWidth=t.linkWidth;r.fillStyle=t.dotColor};window.addEventListener("resize",h,!1);document.addEventListener("mousemove",v,!1);window.addEventListener("deviceorientation",y,!1);h();a()}return n}();(function(){for(var i=0,t=["ms","moz","webkit","o"],n=0;n<t.length&&!window.requestAnimationFrame;++n)window.requestAnimationFrame=window[t[n]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[t[n]+"CancelAnimationFrame"]||window[t[n]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(n){var t=(new Date).getTime(),r=Math.max(0,16-(t-i)),u=window.setTimeout(function(){n(t+r)},r);return i=t+r,u});window.cancelAnimationFrame||(window.cancelAnimationFrame=function(n){clearTimeout(n)})})();
//# sourceMappingURL=zodiac.min.js.map
